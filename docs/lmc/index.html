<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Little Man Computer - JJMorton</title>
<link rel="stylesheet" type="text/css" href="/styles/style.css">

	<link rel="stylesheet" type="text/css" href="/styles/lmc.css"/>
	<script src="/scripts/lmc.js"></script>
</head>
<body>

	<header>
		<nav role="navigation">
	<ul id="nav-bar">
		<li><a href="/">Home</a></li>
		<li><a href="/lmc">LMC</a></li>
		<li><a href="/about">About</a></li>
	</ul>
</nav>

	</header>
	
	<h1>Little Man Computer</h1>

	<main>
		<p>
			The Little Man Computer is a model of a von Neumann architecture computer (the same as most modern computers).
			It is extremely simple, with a small instruction set, so is often used to teach students.
			This model is programmed in machine code, with instructions in base 10.
			An explanation can be found at the bottom of this page, should you need help.
		</p>
	</main>

	<section>
		<h2>Memory</h2>
		<table id="lmc-memory">
			<tr>
				<th></th>
				
				<th class="code">0</th>
				
				<th class="code">1</th>
				
				<th class="code">2</th>
				
				<th class="code">3</th>
				
				<th class="code">4</th>
				
				<th class="code">5</th>
				
				<th class="code">6</th>
				
				<th class="code">7</th>
				
				<th class="code">8</th>
				
				<th class="code">9</th>
				
			</tr>
			
			<tr>
				<th class="code">0</th>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-0" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-1" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-2" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-3" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-4" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-5" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-6" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-7" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-8" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-9" disabled/>
				</td>
				
			</tr>
			
			<tr>
				<th class="code">10</th>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-10" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-11" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-12" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-13" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-14" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-15" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-16" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-17" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-18" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-19" disabled/>
				</td>
				
			</tr>
			
			<tr>
				<th class="code">20</th>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-20" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-21" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-22" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-23" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-24" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-25" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-26" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-27" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-28" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-29" disabled/>
				</td>
				
			</tr>
			
			<tr>
				<th class="code">30</th>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-30" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-31" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-32" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-33" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-34" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-35" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-36" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-37" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-38" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-39" disabled/>
				</td>
				
			</tr>
			
			<tr>
				<th class="code">40</th>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-40" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-41" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-42" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-43" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-44" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-45" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-46" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-47" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-48" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-49" disabled/>
				</td>
				
			</tr>
			
			<tr>
				<th class="code">50</th>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-50" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-51" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-52" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-53" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-54" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-55" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-56" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-57" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-58" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-59" disabled/>
				</td>
				
			</tr>
			
			<tr>
				<th class="code">60</th>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-60" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-61" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-62" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-63" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-64" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-65" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-66" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-67" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-68" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-69" disabled/>
				</td>
				
			</tr>
			
			<tr>
				<th class="code">70</th>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-70" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-71" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-72" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-73" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-74" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-75" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-76" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-77" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-78" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-79" disabled/>
				</td>
				
			</tr>
			
			<tr>
				<th class="code">80</th>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-80" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-81" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-82" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-83" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-84" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-85" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-86" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-87" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-88" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-89" disabled/>
				</td>
				
			</tr>
			
			<tr>
				<th class="code">90</th>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-90" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-91" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-92" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-93" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-94" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-95" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-96" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-97" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-98" disabled/>
				</td>
				
				<td>
					<input type="text" class="lmc-memory code" id="lmc-memory-99" disabled/>
				</td>
				
			</tr>
			
		</table>
	</section>

	<section>
		<h2>Configuration</h2>
		<ul class="list-preview">
			<li class="item-preview box-shadow">
				<div>
					<p class="title">Controls</p>
					<p class="description">Current state: <strong><span id="lmc-state"></span></strong></p>
					<button id="lmc-btn-start" class="box-shadow" title="Start execution from the current instruction">Start</button>
					<button id="lmc-btn-stop" class="box-shadow" title="Stop execution">Stop</button>
					<button id="lmc-btn-reset" class="box-shadow" title="Clear the memory and registers">Reset</button>
				</div>
			</li>

			<li class="item-preview box-shadow">
				<div>
					<p class="title">Registers</p>
					<label class="lmc-register-label" for="lmc-program-counter">Program Counter</label>
					<input type="text" class="lmc-register box-shadow code" id="lmc-program-counter" name="lmc-program-counter" disabled/>
					<label class="lmc-register-label" for="lmc-accumulator">Accumulator</label>
					<input type="text" class="lmc-register box-shadow code" id="lmc-accumulator" name="lmc-accumulator" disabled/>
				</div>
			</li>
			<li class="item-preview box-shadow">
				<div>
					<p class="title">Input/Output</p>
					<input type="text" required pattern="^[0-9]+$" placeholder="Input" id="lmc-input" id="lmc-input" class="code box-shadow"/>
					<button id="lmc-btn-input" for="lmc-input" class="box-shadow">Submit</button>
					<textarea id="lmc-output" class="box-shadow code" rows="4" placeholder="Output" disabled></textarea>
				</div>
			</li>
			<li class="item-preview box-shadow">
				<div>
					<p class="title">Machine Code</p>
					<div class="validate-container">
						<textarea id="lmc-code-input" class="box-shadow code validate" rows="10" placeholder="Enter machine code here"></textarea>
						<p class="validate-message box-shadow">Invalid input</p>
					</div>
					<button id="lmc-btn-load" class="box-shadow" title="Load the written machine code into the memory">Load</button>
				</div>
			</li>
			<li class="item-preview box-shadow">
				<div>
					<p class="title">Assembly Code</p>
					<label for="examples">Load an example</label>
					<select name="examples" id="lmc-example" class="box-shadow">
						<option value="0" selected>Empty</option>
						<option value="1">Input output</option>
						<option value="2">Add</option>
						<option value="3">Multiply</option>
						<option value="4">Compare</option>
					</select>
					<div class="validate-container">
						<textarea id="lmc-assembly-input" class="box-shadow code validate" rows="10" placeholder="Enter assembly code here"></textarea>
						<p class="validate-message box-shadow">Invalid input</p>
					</div>
					<button id="lmc-btn-assemble" class="box-shadow" title="Translate the assembly code into machine code">Assemble</button>
				</div>
			</li>
		</ul>
	</section>

	<section>
		<h2>Instruction Set</h2>
		<p>This is the set of instructions understood by the LMC.</p>
		<table id="lmc-instructions">
			<tr>
				<th>Machine Code</th>
				<th>Assembly</th>
				<th>Description</th>
			</tr>
			<tr>
				<td><span class="code">1xx</span></td>
				<td class="code">ADD xx</td>
				<td>Add memory address <span class="code">xx</span> to the accumulator</td>
			</tr>
			<tr>
				<td><span class="code">2xx</span></td>
				<td class="code">SUB xx</td>
				<td>Subtract memory address <span class="code">xx</span> from the accumulator</td>
			</tr>
			<tr>
				<td><span class="code">3xx</span></td>
				<td class="code">STA xx</td>
				<td>Store the value of the accumulator at memory address <span class="code">xx</span></td>
			</tr>
			<tr>
				<td><span class="code">5xx</span></td>
				<td class="code">LDA xx</td>
				<td>Load memory address <span class="code">xx</span> into the accumulator</td>
			</tr>
			<tr>
				<td><span class="code">6xx</span></td>
				<td class="code">BRA xx</td>
				<td>Set the program counter to the address <span class="code">xx</span></td>
			</tr>
			<tr>
				<td><span class="code">7xx</span></td>
				<td class="code">BRZ xx</td>
				<td>Set the program counter to the address <span class="code">xx</span> if the accumulator is zero</td>
			</tr>
			<tr>
				<td><span class="code">8xx</span></td>
				<td class="code">BRP xx</td>
				<td>Set the program counter to the address <span class="code">xx</span> if the accumulator is zero or positive</td>
			</tr>
			<tr>
				<td><span class="code">901</span></td>
				<td class="code">INP</td>
				<td>Wait for input and put it in the accumulator</td>
			</tr>
			<tr>
				<td><span class="code">902</span></td>
				<td class="code">OUT</td>
				<td>Output the value of the accumulator</td>
			</tr>
			<tr>
				<td><span class="code">000</span></td>
				<td class="code">HLT</td>
				<td>Halt the program</td>
			</tr>
			<tr>
				<td class="code">xxx</td>
				<td class="code">DAT xxx</td>
				<td>
					<span class="code">xxx</span> will be loaded into memory as data.
					It should not be executed as an instruction.
				</td>
			</tr>
		</table>
	</section>

	<section>
		<h2>How it works & how to program it</h2>
		<p>
			Shown above is the memory (RAM) of the computer.
			It has 99 'slots' which are each able to hold one integer value.
			These values can represent either instructions for the computer, or data put there by the running program.
			The instructions available are known as the processor's instruction set.
			The instruction set for the LMC is tabulated above for reference.
		</p>
		<p>
			A program can be written for the computer by writing a list of instructions (machine code), ending with <span class="code">000</span> to end the program.
			Alternatively, it can be written in assembly and translated into machine code using the 'Assemble' button.
			Assembly uses mnemonics to refer to different instructions, making the code easier to read.
			In assembly, 'labels' can be used to give a name to a memory address by writing the desired name of the label at the beginning of the line.
			Any uses of the label will be translated into the associated memory address.
		</p>
		<p>
			After writing a program in the box above, you must load it into memory with the button labeled 'Load'.
			When the computer is started, it runs through the instructions in memory, executing them one by one.
			The processor's 'program counter' (also called the 'instruction pointer') stores the address in memory of the instruction to be executed next.
			Its value can be changed using the branch instructions (<span class="code">6xx</span> - <span class="code">8xx</span> in the table), which allow for conditional logic and looping.
		</p>
		<p>
			The accumulator is a register which is used to perform arithmetic and store inputs given to the program (using instruction <span class="code">901</span>).
			Values can be loaded into it from memory and vice versa using <span class="code">3xx</span> and <span class="code">5xx</span>.
		</p>
		<p>
			Data can be placed in the memory by providing a line in the machine code which does not represent any instruction.
			The data is placed in the memory at the same position that it appears in the code, and can be pulled into the accumulator with the load command (<span class="code">5xx</span>) as normal.
			You must be careful to prevent data from being executed as an instruction, as doing so will crash the computer.
		</p>
		<h3>tl;dr</h3>
		<p>
			Using the reference table above, either write assembly code and press 'Assemble' or write the machine code directly.
			Load the machine code into memory and start the computer.
			Inputs that require attention will be given a red border.
		</p>
	
	</section>

	<footer>
		<p>Running commit <a href="https://github.com/JJMorton/website/commit/unknown">unknown</a></p>

	</footer>

</body>
</html>
